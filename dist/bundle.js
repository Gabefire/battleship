(()=>{"use strict";var e={424:(e,t,n)=>{n.d(t,{Z:()=>a});var r=n(81),i=n.n(r),s=n(645),o=n.n(s)()(i());o.push([e.id,'html {\n  margin: 0;\n  padding: 0;\n  height: 100%;\n  color: white;\n}\nbody {\n  margin: 0;\n  padding-top: 10px;\n  display: flex;\n  justify-content: space-around;\n  font-family: system-ui, "Segoe UI", Roboto, Helvetica, Arial, sans-serif,\n    "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";\n  background-color: rgb(0, 0, 73);\n}\n\nh1 {\n  font-size: 3rem;\n  margin: 5px;\n}\n\n.main-content {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n}\n\n.side-bar {\n  display: none;\n  flex-direction: column;\n  gap: 70px;\n  align-items: center;\n}\n\n.reset {\n  visibility: hidden;\n  font-family: inherit;\n  font-size: 2.5rem;\n  padding: 10px;\n  border-radius: 10px;\n  cursor: pointer;\n}\n\n#large-grid {\n  width: 700px;\n  height: 700px;\n}\n\n#small-grid {\n  margin-top: 50px;\n  width: 400px;\n  height: 400px;\n}\n\n.grid {\n  display: flex;\n  flex-direction: column;\n  margin: 0;\n}\n\n.row {\n  width: 100%;\n  flex: 1;\n  display: flex;\n  margin-bottom: 2px;\n}\n\n.square {\n  height: 100%;\n  width: 100%;\n  flex: 1;\n  outline: black solid 2px;\n  margin-left: 2px;\n}\n',""]);const a=o},645:e=>{e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n="",r=void 0!==t[5];return t[4]&&(n+="@supports (".concat(t[4],") {")),t[2]&&(n+="@media ".concat(t[2]," {")),r&&(n+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),n+=e(t),r&&(n+="}"),t[2]&&(n+="}"),t[4]&&(n+="}"),n})).join("")},t.i=function(e,n,r,i,s){"string"==typeof e&&(e=[[null,e,void 0]]);var o={};if(r)for(var a=0;a<this.length;a++){var c=this[a][0];null!=c&&(o[c]=!0)}for(var l=0;l<e.length;l++){var u=[].concat(e[l]);r&&o[u[0]]||(void 0!==s&&(void 0===u[5]||(u[1]="@layer".concat(u[5].length>0?" ".concat(u[5]):""," {").concat(u[1],"}")),u[5]=s),n&&(u[2]?(u[1]="@media ".concat(u[2]," {").concat(u[1],"}"),u[2]=n):u[2]=n),i&&(u[4]?(u[1]="@supports (".concat(u[4],") {").concat(u[1],"}"),u[4]=i):u[4]="".concat(i)),t.push(u))}},t}},81:e=>{e.exports=function(e){return e[1]}},379:e=>{var t=[];function n(e){for(var n=-1,r=0;r<t.length;r++)if(t[r].identifier===e){n=r;break}return n}function r(e,r){for(var s={},o=[],a=0;a<e.length;a++){var c=e[a],l=r.base?c[0]+r.base:c[0],u=s[l]||0,h="".concat(l," ").concat(u);s[l]=u+1;var d=n(h),p={css:c[1],media:c[2],sourceMap:c[3],supports:c[4],layer:c[5]};if(-1!==d)t[d].references++,t[d].updater(p);else{var f=i(p,r);r.byIndex=a,t.splice(a,0,{identifier:h,updater:f,references:1})}o.push(h)}return o}function i(e,t){var n=t.domAPI(t);return n.update(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;n.update(e=t)}else n.remove()}}e.exports=function(e,i){var s=r(e=e||[],i=i||{});return function(e){e=e||[];for(var o=0;o<s.length;o++){var a=n(s[o]);t[a].references--}for(var c=r(e,i),l=0;l<s.length;l++){var u=n(s[l]);0===t[u].references&&(t[u].updater(),t.splice(u,1))}s=c}}},569:e=>{var t={};e.exports=function(e,n){var r=function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}(e);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(n)}},216:e=>{e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},565:(e,t,n)=>{e.exports=function(e){var t=n.nc;t&&e.setAttribute("nonce",t)}},795:e=>{e.exports=function(e){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var t=e.insertStyleElement(e);return{update:function(n){!function(e,t,n){var r="";n.supports&&(r+="@supports (".concat(n.supports,") {")),n.media&&(r+="@media ".concat(n.media," {"));var i=void 0!==n.layer;i&&(r+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),r+=n.css,i&&(r+="}"),n.media&&(r+="}"),n.supports&&(r+="}");var s=n.sourceMap;s&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(s))))," */")),t.styleTagTransform(r,e,t.options)}(t,e,n)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},589:e=>{e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var s=t[r]={id:r,exports:{}};return e[r](s,s.exports,n),s.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.nc=void 0,(()=>{var e=n(379),t=n.n(e),r=n(795),i=n.n(r),s=n(569),o=n.n(s),a=n(565),c=n.n(a),l=n(216),u=n.n(l),h=n(589),d=n.n(h),p=n(424),f={};function m(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r=document.querySelector(`#${e}-grid`),i=document.querySelector(".side-bar");r.innerHTML="","small"===e&&(i.style.display="flex");for(let i=9;i>=0;i-=1){const s=document.createElement("div");s.id=`${i}`,s.className="row",r.appendChild(s);for(let r=0;r<10;r+=1){const o=document.createElement("div");o.id=`${e}-${i}-${r}`,o.className="square",s.appendChild(o);const a=t[i][r];null!==a.shipPlaced&&!0===a.hit?o.style.backgroundColor="red":null!==a.shipPlaced&&!1===a.hit&&n?o.style.backgroundColor="grey":null===a.shipPlaced&&!0===a.hit?o.style.backgroundColor="blue":o.style.backgroundColor="white"}}}function g(e,t,n,r){const i=document.getElementById(`${e}-${t}-${n}`);"Hit!"===r||"Ship Sunk!"===r?i.style.backgroundColor="red":"Miss!"===r&&(i.style.backgroundColor="blue")}function v(e){const t=document.querySelector(".status-ship");let n=e;switch(e){case 0:n="Place Carrier";break;case 1:n="Place Battleship";break;case 2:n="Place Cruiser";break;case 3:n="Place Submarine";break;case 4:n="Place Destroyer"}t.textContent=n}function y(e){document.querySelector(".status").textContent=e}function b(e){const t=document.querySelector(".status"),n=document.querySelector(".reset");t.textContent=e?"You won!":"Computer won!",n.visibility="visible"}f.styleTagTransform=d(),f.setAttributes=c(),f.insert=o().bind(null,"head"),f.domAPI=i(),f.insertStyleElement=u(),t()(p.Z,f),p.Z&&p.Z.locals&&p.Z.locals;class x{constructor(e,t){this.row=e,this.col=t,this.shipPlaced=null,this.hit=!1}}class S{constructor(){const e=[];for(let t=9;t>=0;t-=1){const n=[];for(let e=0;e<10;e+=1){const r=new x(t,e);n.push(r)}e.unshift(n)}this.squareArray=e,this.shipArray=[],this.missedAttacks=0,this.previousMoves=[],this.previousHits=[],this.previousDir=null,this.nextMove=null}checkValidMove(e,t,n,r){if(e+(r.length-1)*n[0]>9||e+(r.length-1)*n[0]<0||t+(r.length-1)*n[1]>9||t+(r.length-1)*n[1]<0)return!1;if(1===n[0])for(let n=e;n<r.length+e;n+=1)if(null!==this.squareArray[n][t].shipPlaced)return!1;if(-1===n[0])for(let n=e;n>e-r.length;n-=1)if(null!==this.squareArray[n][t].shipPlaced)return!1;if(1===n[1])for(let n=t;n<r.length+t;n+=1)if(null!==this.squareArray[e][n].shipPlaced)return!1;if(-1===n[1])for(let n=t;n>t-r.length;n-=1)if(null!==this.squareArray[e][n].shipPlaced)return!1;return!0}placeShip(e,t,n,r){let i=e,s=t;if(!this.checkValidMove(e,t,n,r))return!1;for(let e=0;e<r.length;e+=1)this.squareArray[i][s].shipPlaced=r,i+=n[0],s+=n[1];return this.shipArray.push(r),!0}receiveAttack(e,t){const n=this.squareArray[e][t];return!0===n.hit?"Invalid!":(n.hit=!0,null!==n.shipPlaced?(n.shipPlaced.hit(),n.shipPlaced.isSunk()?"Ship Sunk!":"Hit!"):(this.missedAttacks+=1,"Miss!"))}checkResults(){let e=!0;return this.shipArray.forEach((t=>{!1===t.sunk&&(e=!1)})),!!e}}class k{constructor(e){this.length=e,this.numHits=0,this.sunk=!1}hit(){this.numHits+=1}isSunk(){return this.length===this.numHits&&(this.sunk=!0,!0)}}const M=[[0,1],[1,0],[0,-1],[-1,0]];function A(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(n>e.length-1)return;const r=e[n];let i=!1;for(;!i;){const e=Math.floor(10*Math.random()),n=Math.floor(10*Math.random());let s=Math.floor(4*Math.random());s=M[s],i=t.placeShip(e,n,s,r)}A(e,t,n+1)}function I(e){const t=Math.floor(10*Math.random()),n=Math.floor(10*Math.random());return[t,n]in e.previousMoves&&I(e),e.previousMoves.push([t,n]),[t,n]}function w(e){const t=new S;let n=5;const r=[];for(let e=0;e<4;e+=1){const e=new k(n);r.push(e),n-=1}const i=new k(3);r.splice(2,0,i),A(r,t),m("large",t.squareArray,!1),m("small",e.squareArray);let s=!1,o=!0;document.querySelectorAll(".square").forEach((n=>{n.addEventListener("click",(n=>{if(s)return;const r=n.target.id.split("-"),i=+r[1],a=+r[2];let c=t.receiveAttack(i,a);if("Invalid!"===c)return void y(c);if(g("large",i,a,c),y(c),s=t.checkResults(),s)return void b(o);o=!1;const l=I(t);c=e.receiveAttack(...l),"Hit!"===c&&function(e,t,n,r){const i=e;if("Hit!"===r&&0!==i.previousHits.length){const e=i.previousDir,r=t+e[0],s=n+e[1];i.nextMove=[r,s]}if("Miss!"===r&&i.previousHits.length>1){i.previousHits;const e=i.previousDir,r=t-e[0],s=n-e[1];i.nextMove=[r,s]}for(;;){const t=Math.floor(4*Math.random());M[t],e.previousDir}}(t,...l,c),g("small",...l,c),s=t.checkResults(),s?b(o):o=!0}))}))}(new class{constructor(){this.gameBoard=new S;let e=5;const t=[];for(let n=0;n<4;n+=1){const n=new k(e);t.push(n),e-=1}const n=new k(3);t.splice(2,0,n),this.shipArray=t,this.currentShipIndex=0,this.currentShip=this.shipArray[this.currentShipIndex],this.boundedPlaceShipListener=this.placeShipListener.bind(this),this.boundedShiftDir=this.shiftDirListener.bind(this),this.possibleDir=[[0,1],[1,0],[0,-1],[-1,0]],this.currentDirIndex=0,this.currentDir=this.possibleDir[this.currentDirIndex]}placeShipListener(e){const t=e.target.id.split("-"),n=+t[1],r=+t[2];if(this.gameBoard.placeShip(n,r,this.currentDir,this.currentShip)){if(this.currentShipIndex+=1,this.currentShipIndex>this.shipArray.length-1)return w(this.gameBoard),void v("");v(this.currentShipIndex),this.currentShip=this.shipArray[this.currentShipIndex],this.buildGameBoard()}}shiftDirListener(e){const{keyCode:t}=e;37===t&&(this.currentDirIndex-=1,this.currentDirIndex<0&&(this.currentDirIndex=3)),39===t&&(this.currentDirIndex+=1,this.currentDirIndex>3&&(this.currentDirIndex=0)),this.currentDir=this.possibleDir[this.currentDirIndex],this.buildGameBoard()}buildGameBoard(){const{squareArray:e}=this.gameBoard;m("large",e),function(e,t,n){const r=document.querySelectorAll(".square");let i=[];r.forEach((r=>{r.addEventListener("mouseover",(r=>{const s=r.target.id.split("-"),o=+s[1],a=+s[2];if(t.checkValidMove(o,a,n,e)){if(1===n[0])for(let t=o;t<e.length+o;t+=1){const e=document.getElementById(`large-${t}-${a}`);e.style.backgroundColor="lightgrey",i.push(e)}if(-1===n[0])for(let t=o;t>o-e.length;t-=1){const e=document.getElementById(`large-${t}-${a}`);e.style.backgroundColor="lightgrey",i.push(e)}if(1===n[1])for(let t=a;t<e.length+a;t+=1){const e=document.getElementById(`large-${o}-${t}`);e.style.backgroundColor="lightgrey",i.push(e)}if(-1===n[1])for(let t=a;t>a-e.length;t-=1){const e=document.getElementById(`large-${o}-${t}`);e.style.backgroundColor="lightgrey",i.push(e)}}})),r.addEventListener("mouseleave",(()=>{i.length>0&&i.forEach((e=>{e.style.backgroundColor="white"})),i=[]}))}))}(this.currentShip,this.gameBoard,this.currentDir),v(this.currentShipIndex),document.onkeydown=this.boundedShiftDir,document.querySelectorAll(".square").forEach((e=>{e.removeEventListener("click",this.boundedPlaceShipListener),e.addEventListener("click",this.boundedPlaceShipListener)}))}}).buildGameBoard()})()})();