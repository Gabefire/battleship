(()=>{"use strict";var e={424:(e,t,r)=>{r.d(t,{Z:()=>l});var i=r(81),n=r.n(i),s=r(645),o=r.n(s)()(n());o.push([e.id,'html {\n  margin: 0;\n  padding: 0;\n  height: 100%;\n  color: white;\n}\nbody {\n  margin: 0;\n  padding-top: 10px;\n  display: flex;\n  justify-content: space-around;\n  font-family: system-ui, "Segoe UI", Roboto, Helvetica, Arial, sans-serif,\n    "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";\n  background-color: rgb(0, 0, 73);\n}\n\nh1 {\n  font-size: 3rem;\n  margin: 5px;\n}\n\n.main-content {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n}\n\n.side-bar {\n  display: none;\n  flex-direction: column;\n  gap: 70px;\n  align-items: center;\n}\n\n.reset {\n  visibility: hidden;\n  font-family: inherit;\n  font-size: 2.5rem;\n  padding: 10px;\n  border-radius: 10px;\n  cursor: pointer;\n}\n\n#large-grid {\n  width: 700px;\n  height: 700px;\n}\n\n#small-grid {\n  margin-top: 50px;\n  width: 400px;\n  height: 400px;\n}\n\n.grid {\n  display: flex;\n  flex-direction: column;\n  margin: 0;\n}\n\n.row {\n  width: 100%;\n  flex: 1;\n  display: flex;\n  margin-bottom: 2px;\n}\n\n.square {\n  height: 100%;\n  width: 100%;\n  flex: 1;\n  outline: black solid 2px;\n  margin-left: 2px;\n}\n',""]);const l=o},645:e=>{e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var r="",i=void 0!==t[5];return t[4]&&(r+="@supports (".concat(t[4],") {")),t[2]&&(r+="@media ".concat(t[2]," {")),i&&(r+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),r+=e(t),i&&(r+="}"),t[2]&&(r+="}"),t[4]&&(r+="}"),r})).join("")},t.i=function(e,r,i,n,s){"string"==typeof e&&(e=[[null,e,void 0]]);var o={};if(i)for(var l=0;l<this.length;l++){var a=this[l][0];null!=a&&(o[a]=!0)}for(var c=0;c<e.length;c++){var u=[].concat(e[c]);i&&o[u[0]]||(void 0!==s&&(void 0===u[5]||(u[1]="@layer".concat(u[5].length>0?" ".concat(u[5]):""," {").concat(u[1],"}")),u[5]=s),r&&(u[2]?(u[1]="@media ".concat(u[2]," {").concat(u[1],"}"),u[2]=r):u[2]=r),n&&(u[4]?(u[1]="@supports (".concat(u[4],") {").concat(u[1],"}"),u[4]=n):u[4]="".concat(n)),t.push(u))}},t}},81:e=>{e.exports=function(e){return e[1]}},379:e=>{var t=[];function r(e){for(var r=-1,i=0;i<t.length;i++)if(t[i].identifier===e){r=i;break}return r}function i(e,i){for(var s={},o=[],l=0;l<e.length;l++){var a=e[l],c=i.base?a[0]+i.base:a[0],u=s[c]||0,h="".concat(c," ").concat(u);s[c]=u+1;var d=r(h),p={css:a[1],media:a[2],sourceMap:a[3],supports:a[4],layer:a[5]};if(-1!==d)t[d].references++,t[d].updater(p);else{var f=n(p,i);i.byIndex=l,t.splice(l,0,{identifier:h,updater:f,references:1})}o.push(h)}return o}function n(e,t){var r=t.domAPI(t);return r.update(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;r.update(e=t)}else r.remove()}}e.exports=function(e,n){var s=i(e=e||[],n=n||{});return function(e){e=e||[];for(var o=0;o<s.length;o++){var l=r(s[o]);t[l].references--}for(var a=i(e,n),c=0;c<s.length;c++){var u=r(s[c]);0===t[u].references&&(t[u].updater(),t.splice(u,1))}s=a}}},569:e=>{var t={};e.exports=function(e,r){var i=function(e){if(void 0===t[e]){var r=document.querySelector(e);if(window.HTMLIFrameElement&&r instanceof window.HTMLIFrameElement)try{r=r.contentDocument.head}catch(e){r=null}t[e]=r}return t[e]}(e);if(!i)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");i.appendChild(r)}},216:e=>{e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},565:(e,t,r)=>{e.exports=function(e){var t=r.nc;t&&e.setAttribute("nonce",t)}},795:e=>{e.exports=function(e){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var t=e.insertStyleElement(e);return{update:function(r){!function(e,t,r){var i="";r.supports&&(i+="@supports (".concat(r.supports,") {")),r.media&&(i+="@media ".concat(r.media," {"));var n=void 0!==r.layer;n&&(i+="@layer".concat(r.layer.length>0?" ".concat(r.layer):""," {")),i+=r.css,n&&(i+="}"),r.media&&(i+="}"),r.supports&&(i+="}");var s=r.sourceMap;s&&"undefined"!=typeof btoa&&(i+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(s))))," */")),t.styleTagTransform(i,e,t.options)}(t,e,r)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},589:e=>{e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}}},t={};function r(i){var n=t[i];if(void 0!==n)return n.exports;var s=t[i]={id:i,exports:{}};return e[i](s,s.exports,r),s.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var i in t)r.o(t,i)&&!r.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.nc=void 0,(()=>{var e=r(379),t=r.n(e),i=r(795),n=r.n(i),s=r(569),o=r.n(s),l=r(565),a=r.n(l),c=r(216),u=r.n(c),h=r(589),d=r.n(h),p=r(424),f={};function v(e,t){let r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const i=document.querySelector(`#${e}-grid`),n=document.querySelector(".side-bar");i.innerHTML="","small"===e&&(n.style.display="flex");for(let n=9;n>=0;n-=1){const s=document.createElement("div");s.id=`${n}`,s.className="row",i.appendChild(s);for(let i=0;i<10;i+=1){const o=document.createElement("div");o.id=`${e}-${n}-${i}`,o.className="square",s.appendChild(o);const l=t[n][i];null!==l.shipPlaced&&!0===l.hit?o.style.backgroundColor="red":null!==l.shipPlaced&&!1===l.hit&&r?o.style.backgroundColor="grey":null===l.shipPlaced&&!0===l.hit?o.style.backgroundColor="blue":o.style.backgroundColor="white"}}}function m(e,t,r,i){const n=document.getElementById(`${e}-${t}-${r}`);"Hit!"===i||"Ship Sunk!"===i?n.style.backgroundColor="red":"Miss!"===i&&(n.style.backgroundColor="blue")}function y(e){const t=document.querySelector(".status-ship");let r=e;switch(e){case 0:r="Place Carrier";break;case 1:r="Place Battleship";break;case 2:r="Place Cruiser";break;case 3:r="Place Submarine";break;case 4:r="Place Destroyer"}t.textContent=r}function g(e){document.querySelector(".status").textContent=e}function b(e){const t=document.querySelector(".status");document.querySelector(".reset").style.visibility="visible",t.textContent=e?"You won!":"Computer won!"}f.styleTagTransform=d(),f.setAttributes=a(),f.insert=o().bind(null,"head"),f.domAPI=n(),f.insertStyleElement=u(),t()(p.Z,f),p.Z&&p.Z.locals&&p.Z.locals;class x{constructor(e,t){this.row=e,this.col=t,this.shipPlaced=null,this.hit=!1}}class M{constructor(e){this.length=e,this.numHits=0,this.sunk=!1}hit(){this.numHits+=1}isSunk(){return this.length===this.numHits&&(this.sunk=!0,!0)}}class S{constructor(){const e=[];for(let t=9;t>=0;t-=1){const r=[];for(let e=0;e<10;e+=1){const i=new x(t,e);r.push(i)}e.unshift(r)}this.squareArray=e;let t=5;const r=[];for(let e=0;e<4;e+=1){const e=new M(t);r.push(e),t-=1}const i=new M(3);r.splice(2,0,i),this.shipArray=r}checkValidMove(e,t,r,i){if(e+(i-1)*r[0]>9||e+(i-1)*r[0]<0||t+(i-1)*r[1]>9||t+(i-1)*r[1]<0)return!1;if(1===r[0])for(let r=e;r<i+e;r+=1)if(null!==this.squareArray[r][t].shipPlaced)return!1;if(-1===r[0])for(let r=e;r>e-i;r-=1)if(null!==this.squareArray[r][t].shipPlaced)return!1;if(1===r[1])for(let r=t;r<i+t;r+=1)if(null!==this.squareArray[e][r].shipPlaced)return!1;if(-1===r[1])for(let r=t;r>t-i;r-=1)if(null!==this.squareArray[e][r].shipPlaced)return!1;return!0}placeShip(e,t,r,i){let n=e,s=t;if(!this.checkValidMove(e,t,r,i.length))return!1;for(let e=0;e<i.length;e+=1)this.squareArray[n][s].shipPlaced=i,n+=r[0],s+=r[1];return!0}receiveAttack(e,t){const r=this.squareArray[e][t];return!0===r.hit?"Invalid!":(r.hit=!0,null!==r.shipPlaced?(r.shipPlaced.hit(),r.shipPlaced.isSunk()?"Ship Sunk!":"Hit!"):(this.missedAttacks+=1,"Miss!"))}checkResults(){let e=!0;return this.shipArray.forEach((t=>{!1===t.sunk&&(e=!1)})),!!e}}class D extends S{constructor(){super(),this.possibleDir=[[0,1],[1,0],[0,-1],[-1,0]];const e=[];for(let t=9;t>=0;t-=1)for(let r=0;r<10;r+=1)e.push([t,r]);this.possibleMovesArray=e,this.previousHits=[],this.currentDir=null,this.nextMove=null}buildComputerGameBoard(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if(e>this.shipArray.length-1)return;const t=this.shipArray[e];let r=!1;for(;!r;){const e=Math.floor(10*Math.random()),i=Math.floor(10*Math.random());let n=Math.floor(4*Math.random());n=this.possibleDir[n],r=this.placeShip(e,i,n,t)}this.buildComputerGameBoard(e+1)}getComputersTurn(){const e=e=>{const t=e[0],r=e[1];return this.nextMove[0]===t&&this.nextMove[1]===r};if(null!==this.nextMove&&this.possibleMovesArray.length>0){const t=this.possibleMovesArray.findIndex(e),[r]=this.possibleMovesArray.splice(t,1);return r}const t=Math.floor(Math.random()*this.possibleMovesArray.length),[r]=this.possibleMovesArray.splice(t,1);return r}computerAdjacentSquare(e,t,r){const i=e=>{const t=e[0],r=e[1];return this.nextMove[0]===t&&this.nextMove[1]===r};if("Ship Sunk!"===r||null!==this.nextMove&&0===this.previousHits.length)return this.nextMove=null,this.previousHits=[],void(this.currentDir=null);if(0!==this.previousHits.length){if("Hit!"===r&&this.previousHits.length>0){this.previousHits.push([e,t]);let r=e+this.currentDir[0],n=t+this.currentDir[1];if(this.nextMove=[r,n],r>9||r<0||n>9||n<0||!this.possibleMovesArray.some(i)){const e=this.previousHits[0];return r=e[0]-this.currentDir[0],n=e[1]-this.currentDir[1],this.currentDir=[-this.currentDir[0],-this.currentDir[1]],this.nextMove=[r,n],void((r>9||r<0||n>9||n<0||!this.possibleMovesArray.some(i))&&(this.nextMove=null,this.previousHits=[],this.currentDir=null))}}else if("Miss!"===r||"Invalid!"===r){const e=this.previousHits[0],t=e[0]-this.currentDir[0],r=e[1]-this.currentDir[1];if(this.currentDir=[-this.currentDir[0],-this.currentDir[1]],this.nextMove=[t,r],t>9||t<0||r>9||r<0||!this.possibleMovesArray.some(i)){let e=!1;for(;!e;){let t=Math.floor(Math.random()*this.previousHits.length);const r=this.previousHits[t],n=[];for(let e=0;e<4;e+=1){const t=r[0]+this.possibleDir[e][0],s=r[1]+this.possibleDir[e][1];this.nextMove=[t,s],this.possibleMovesArray.some(i)&&n.push([this.nextMove,this.possibleDir[e]])}if(0===n.length){const e=this.previousHits.findIndex(i);this.previousHits.splice(e,1)}else{t=Math.floor(Math.random()*n.length);const r=n[t][0],i=n[t][1];this.nextMove=r,this.currentDir=i,e=!0}}}}}else{this.previousHits.push([e,t]);let r=!1;for(;!r;){let e=Math.floor(Math.random()*this.previousHits.length);const t=this.previousHits[e],n=[];for(let e=0;e<4;e+=1){const r=t[0]+this.possibleDir[e][0],s=t[1]+this.possibleDir[e][1];this.nextMove=[r,s],this.currentDir=this.possibleDir[e],this.possibleMovesArray.some(i)&&n.push([this.nextMove,this.possibleDir[e]])}if(0===n.length)return this.nextMove=null,this.previousHits=[],void(this.currentDir=null);e=Math.floor(Math.random()*n.length);const s=n[e][0],o=n[e][1];this.nextMove=s,this.currentDir=o,r=!0}}}}(new class{constructor(){this.gameBoard=new S,this.shipArray=this.gameBoard.shipArray,this.currentShipIndex=0,this.currentShip=this.shipArray[this.currentShipIndex],this.boundedPlaceShipListener=this.placeShipListener.bind(this),this.boundedShiftDir=this.shiftDirListener.bind(this),this.possibleDir=[[0,1],[1,0],[0,-1],[-1,0]],this.currentDirIndex=0,this.currentDir=this.possibleDir[this.currentDirIndex]}placeShipListener(e){const t=e.target.id.split("-"),r=+t[1],i=+t[2];if(this.gameBoard.placeShip(r,i,this.currentDir,this.currentShip)){if(this.currentShipIndex+=1,this.currentShipIndex>this.shipArray.length-1)return document.querySelector("body").removeEventListener("keydown",this.boundedShiftDir),function(e){const t=new D;t.buildComputerGameBoard(),v("large",t.squareArray,!1),v("small",e.squareArray);let r=!1,i=!0;document.querySelectorAll(".square").forEach((n=>{n.addEventListener("click",(n=>{if(r)return;const s=n.target.id.split("-"),o=+s[1],l=+s[2];let a=t.receiveAttack(o,l);if("Invalid!"===a)return void g(a);if(m("large",o,l,a),g(a),r=t.checkResults(),r)return void b(i);i=!1;const c=t.getComputersTurn();a=e.receiveAttack(...c),("Hit!"===a||t.previousHits.length>0||null!==t.nextMove)&&t.computerAdjacentSquare(...c,a),m("small",...c,a),r=e.checkResults(),r?b(i):i=!0}))}))}(this.gameBoard),void y("");y(this.currentShipIndex),this.currentShip=this.shipArray[this.currentShipIndex],this.buildGameBoard()}}shiftDirListener(e){const{keyCode:t}=e;if(37===t)this.currentDirIndex-=1,this.currentDirIndex<0&&(this.currentDirIndex=3);else{if(39!==t)return;this.currentDirIndex+=1,this.currentDirIndex>3&&(this.currentDirIndex=0)}this.currentDir=this.possibleDir[this.currentDirIndex],this.buildGameBoard()}buildGameBoard(){const{squareArray:e}=this.gameBoard;v("large",e),function(e,t,r){const i=document.querySelectorAll(".square");let n=[];i.forEach((i=>{i.addEventListener("mouseover",(i=>{let s=e,o="lightgrey";const l=i.target.id.split("-"),a=+l[1],c=+l[2];if(null===t.squareArray[a][c].shipPlaced){if(!t.checkValidMove(a,c,r,s)){o="red";let e=!1;for(;!e;)s-=1,e=t.checkValidMove(a,c,r,s)}if(1===r[0])for(let e=a;e<s+a;e+=1){const t=document.getElementById(`large-${e}-${c}`);t.style.backgroundColor=o,n.push(t)}if(-1===r[0])for(let e=a;e>a-s;e-=1){const t=document.getElementById(`large-${e}-${c}`);t.style.backgroundColor=o,n.push(t)}if(1===r[1])for(let e=c;e<s+c;e+=1){const t=document.getElementById(`large-${a}-${e}`);t.style.backgroundColor=o,n.push(t)}if(-1===r[1])for(let e=c;e>c-s;e-=1){const t=document.getElementById(`large-${a}-${e}`);t.style.backgroundColor=o,n.push(t)}}})),i.addEventListener("mouseleave",(()=>{n.length>0&&n.forEach((e=>{e.style.backgroundColor="white"})),n=[]}))}))}(this.currentShip.length,this.gameBoard,this.currentDir),y(this.currentShipIndex),document.querySelector("body").addEventListener("keydown",this.boundedShiftDir),document.querySelectorAll(".square").forEach((e=>{e.removeEventListener("click",this.boundedPlaceShipListener),e.addEventListener("click",this.boundedPlaceShipListener)}))}}).buildGameBoard()})()})();